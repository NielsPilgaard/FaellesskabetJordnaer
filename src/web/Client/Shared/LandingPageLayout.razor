@inherits LayoutComponentBase

<MudLayout>
    <AuthorizeView>
        <Authorized>
            <SideBar @bind-Open="_isDrawerOpen" />
        </Authorized>
    </AuthorizeView>

    <MudAppBar Fixed="false" Elevation="0" Dense Style="background: var(--mud-palette-background-grey)">
        <AuthorizeView>
            <Authorized>
                <MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Default" Variant="Variant.Filled" Edge="Edge.Start" OnClick="@ToggleDrawer" />
            </Authorized>
        </AuthorizeView>
        <MudSpacer />
        <ThemeProvider @bind-IsDarkMode="_isDarkMode" />
        <AuthorizeView>
            <Authorized>
                <TopBarProfileMenu @bind-IsDarkMode="_isDarkMode" />
            </Authorized>
            <NotAuthorized>
                <MudIconButton Title="Log ind" Icon="@Icons.Material.Filled.Login" Href="auth/login" Variant="Variant.Outlined" Color="Color.Default" />
            </NotAuthorized>
        </AuthorizeView>
    </MudAppBar>
    @Body
    <Footer></Footer>
    <CookieBanner />
</MudLayout>

@code {
    private bool _isDrawerOpen = false;
    private void ToggleDrawer() => _isDrawerOpen = !_isDrawerOpen;
    private bool _isDarkMode = false;
}
