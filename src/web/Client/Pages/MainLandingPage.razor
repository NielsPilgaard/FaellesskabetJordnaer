@page "/"
@attribute [Layout(typeof(NoLayout))]
@inject NavigationManager Navigation
@inject AuthenticationStateProvider AuthenticationStateProvider

@if (!_authenticationStateLoaded)
{
    return;
}

    <MudAlert Severity="Severity.Info" Class="mt-4">
        <MudText Typo="Typo.body1">
            Mini Møder er under opbygning.
            Kom gerne tilbage om et par dage og se hvor langt vi er kommet!
        </MudText>
    </MudAlert>

    <MudPaper Elevation="3" Class="pa-6 my-4">
        <MudText Typo="Typo.body1">
            Mini Møder er en tryg og hyggelig platform,
            der gør det nemt at planlægge legeaftaler, hjemmeskoling og lignende i en hjertevarm atmosfære.
            <MudSpacer />
            Vi fokuserer på at styrke børns sociale netværk og læring gennem sjove aktiviteter og fællesskab.
            <MudSpacer />
            Med Mini Møder er det enkelt at samles, udforske, lære og skabe minder sammen i trygge og nærværende rammer.
        </MudText>
    </MudPaper>
    

@code
{
    private bool _authenticationStateLoaded = false;

    protected override async Task OnInitializedAsync()
    {
        var authenticationState = await AuthenticationStateProvider.GetAuthenticationStateAsync();
        if (authenticationState.User.Identity?.IsAuthenticated is true)
        {
            Navigation.NavigateTo("/personal");
        }

        _authenticationStateLoaded = true;
    }
}
