@page "/"
@using MudExtensions.Enums
@attribute [Layout(typeof(NoLayout))]
@inject NavigationManager Navigation
@inject AuthenticationStateProvider AuthenticationStateProvider

@if (!_authenticationStateLoaded)
{
    return;
}
<MudPage FullScreen="FullScreen.FullWithoutAppbar" Row="5" Column="5" Height="1750px" Style="background: var(--mud-palette-background-grey)">
    @* DESKTOP *@
    <MudHidden Breakpoint="Breakpoint.SmAndDown">

        <MudSection Row="1" ColSpan="2" Column="1" Class="hero-section">
            <MudImage Height="250" Src="/images/minimoeder_logo.png"/>
        </MudSection>

        <MudSection Row="1" ColSpan="2" Column="4" Class="hero-section">
            <MudToolBar Style="@($"color: {JordnaerPalette.Header}; font-size: 24px; overflow: hidden")">
                <MudNavLink Href="/posts">OPSLAG</MudNavLink>
                <MudNavLink Href="/auth/login" Class="hero-navbar-underline">VÆR' MED</MudNavLink>
                <MudNavLink Href="/groups">GRUPPER</MudNavLink>
            </MudToolBar>
        </MudSection>

        <MudSection Row="2" Column="1" ColSpan="5" Style="@($"background: {JordnaerPalette.DimBackground}")"/>

        <MudSection Row="1" Column="2" ColSpan="3" RowSpan="2" Class="hero-section">
            <MudStack AlignItems="AlignItems.Center" Justify="Justify.Center" Spacing="0">
                <MudImage Height="400" Class="hero-clip-path-image-1" Src="/images/nathan-dumlao-P5MXtYfgmmw-unsplash.jpg"/>
                <MudText Class="font-cherry-bomb-one" Style="@($"color: {JordnaerPalette.Secondary}; font-size: 48px")">Velkommen</MudText>
                <MudText Style="@($"color: {JordnaerPalette.Header}; font-size: 24px")">Til dit online mødested for børnefamilier</MudText>
            </MudStack>
        </MudSection>

        @* New Section 1: "Drømmer du om et liv uden afleveringen" *@
        <MudSection Row="3" ColSpan="5" Class="hero-section flex-row-reverse">
            <MudImage Src="/images/image1.jpg" Width="300"/>
            <div>
                <MudText Class="font-cherry-bomb-one" Style="@($"color: {JordnaerPalette.Primary}; font-size: 36px")">
                    Drømmer du om et liv uden afleveringen
                </MudText>
                <MudText>
                    Få mere tid til dig selv og dem, du holder af.
                </MudText>
            </div>
        </MudSection>

        @* New Section 2: "Få mere tid til familien" *@
        <MudSection Row="4" ColSpan="5" Class="hero-section flex-row" Style="@($"background: {JordnaerPalette.DimBackground}")">
            <MudImage Src="/images/image2.jpg" Width="300"/>
            <div>
                <MudText Class="font-cherry-bomb-one" Style="@($"color: {JordnaerPalette.Secondary}; font-size: 36px")">
                    Få mere tid til familien
                </MudText>
                <MudText>
                    Gør hverdagen nemmere med vores platform.
                </MudText>
            </div>
        </MudSection>

        @* New Section 3: "Mød andre forældre online" *@
        <MudSection Row="5" ColSpan="5" Class="hero-section flex-row-reverse">
            <MudImage Src="/images/image3.jpg" Width="300"/>
            <div>
                <MudText Class="font-cherry-bomb-one" Style="@($"color: {JordnaerPalette.Primary}; font-size: 36px")">
                    Mød andre forældre online
                </MudText>
                <MudText>
                    Oplev et fællesskab af forældre som dig.
                </MudText>
            </div>
        </MudSection>

    </MudHidden>

    @* MOBILE *@
    <MudHidden Breakpoint="Breakpoint.MdAndUp">

    </MudHidden>
</MudPage>




<MudPaper Elevation="3" Class="pa-6 my-4">
    <MudText Typo="Typo.body1">
        Mini Møder er en tryg og hyggelig platform,
        der gør det nemt at planlægge legeaftaler, hjemmeskoling og lignende i en hjertevarm atmosfære.
        <MudSpacer />
        Vi fokuserer på at styrke børns sociale netværk og læring gennem sjove aktiviteter og fællesskab.
        <MudSpacer />
        Med Mini Møder er det enkelt at samles, udforske, lære og skabe minder sammen i trygge og nærværende rammer.
    </MudText>
</MudPaper>

@code
{
    private bool _authenticationStateLoaded = false;

    protected override async Task OnInitializedAsync()
    {
        var authenticationState = await AuthenticationStateProvider.GetAuthenticationStateAsync();
        if (authenticationState.User.Identity?.IsAuthenticated is true)
        {
            Navigation.NavigateTo("/personal");
        }

        _authenticationStateLoaded = true;
    }
}
